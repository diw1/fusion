"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[181],{43748:function(Me,E,a){a.r(E),a.d(E,{default:function(){return Ae}});var w=a(19632),Y=a.n(w),P=a(51480),R=a(34158),B=a(57858),U=a(26713),g=a(71230),i=a(15746),M=a(56075),D=a(59652),Z=a(63922),b=a(45697),z=a.n(b),j=a(67294),W=Object.defineProperty,S=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable,C=(A,n,t)=>n in A?W(A,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):A[n]=t,J=(A,n)=>{for(var t in n||(n={}))k.call(n,t)&&C(A,t,n[t]);if(S)for(var t of S(n))H.call(n,t)&&C(A,t,n[t]);return A};const je=A=>React.createElement("svg",J({width:150,height:128,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},A),React.createElement("title",null,"ic_card_fall_down"),React.createElement("defs",null,React.createElement("path",{id:"fall_down_svg__a",d:"M.345.407h78.261v117.747H.345z"}),React.createElement("path",{id:"fall_down_svg__c",d:"M0 .253h28.32v27.864H0z"})),React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("g",{transform:"translate(43.57 4.458)"},React.createElement("mask",{id:"fall_down_svg__b",fill:"#fff"},React.createElement("use",{xlinkHref:"#fall_down_svg__a"})),React.createElement("path",{d:"M67.54 56.766c-11.06 5.102-22.42 9.44-33.935 13.361-2.035-6.481-3.192-11.953-4.88-19.735-.702-3.233-2.242-6.138-4.42-8.31l19.128-28.1C49.409 5.207 36.324-5.042 30.303 3.8 21.582 16.614 12.855 29.432 4.132 42.25a9.263 9.263 0 0 0-.856 1.56c-2.27 2.845-3.48 6.456-2.688 10.12 2.035 9.344 4.105 18.727 7.073 27.834 1.093 3.351 3.652 5.82 6.75 7.264.279.24.574.475.905.7 15.515 10.465 31.643 19.94 48.755 27.638 9.79 4.399 16.214-10.852 6.421-15.25-10.764-4.832-21.073-10.41-31.076-16.52 11.635-3.956 23.108-8.324 34.282-13.478 9.72-4.487 3.596-19.854-6.158-15.352",fill:"#fff",mask:"url(#fall_down_svg__b)"})),React.createElement("g",{transform:"translate(28 11.785)"},React.createElement("mask",{id:"fall_down_svg__d",fill:"#fff"},React.createElement("use",{xlinkHref:"#fall_down_svg__c"})),React.createElement("path",{d:"M25.305 22.773c4.826-6.055 3.743-14.814-2.416-19.557C16.73-1.526 7.834-.462 3.014 5.596-1.81 11.652-.726 20.407 5.43 25.153c6.157 4.746 15.057 3.678 19.875-2.38",fill:"#fff",mask:"url(#fall_down_svg__d)"})),React.createElement("path",{d:"m75.941 115.059-18.371-8.836a.991.991 0 0 0-1.192.263l-2.473 2.92c-.505.596-.236 1.543.498 1.75l20.845 5.917c1.212.344 1.836-1.464.693-2.014M73.811 120.394l-26.425-4.181c-.477-.076-.941.198-1.13.666l-1.684 4.182c-.296.735.215 1.55.972 1.55h28.11c1.309 0 1.451-2.012.157-2.217",fill:"#fff"})));var F="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjEyOCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0uMzQ1LjQwN2g3OC4yNjF2MTE3Ljc0N0guMzQ1eiIvPjxwYXRoIGlkPSJjIiBkPSJNMCAuMjUzaDI4LjMydjI3Ljg2NEgweiIvPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQzLjU3IDQuNDU4KSI+PG1hc2sgaWQ9ImIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTY3LjU0IDU2Ljc2NmMtMTEuMDYgNS4xMDItMjIuNDIgOS40NC0zMy45MzUgMTMuMzYxLTIuMDM1LTYuNDgxLTMuMTkyLTExLjk1My00Ljg4LTE5LjczNS0uNzAyLTMuMjMzLTIuMjQyLTYuMTM4LTQuNDItOC4zMWwxOS4xMjgtMjguMUM0OS40MDkgNS4yMDcgMzYuMzI0LTUuMDQyIDMwLjMwMyAzLjggMjEuNTgyIDE2LjYxNCAxMi44NTUgMjkuNDMyIDQuMTMyIDQyLjI1YTkuMjYzIDkuMjYzIDAgMCAwLS44NTYgMS41NmMtMi4yNyAyLjg0NS0zLjQ4IDYuNDU2LTIuNjg4IDEwLjEyIDIuMDM1IDkuMzQ0IDQuMTA1IDE4LjcyNyA3LjA3MyAyNy44MzQgMS4wOTMgMy4zNTEgMy42NTIgNS44MiA2Ljc1IDcuMjY0LjI3OS4yNC41NzQuNDc1LjkwNS43IDE1LjUxNSAxMC40NjUgMzEuNjQzIDE5Ljk0IDQ4Ljc1NSAyNy42MzggOS43OSA0LjM5OSAxNi4yMTQtMTAuODUyIDYuNDIxLTE1LjI1LTEwLjc2NC00LjgzMi0yMS4wNzMtMTAuNDEtMzEuMDc2LTE2LjUyIDExLjYzNS0zLjk1NiAyMy4xMDgtOC4zMjQgMzQuMjgyLTEzLjQ3OCA5LjcyLTQuNDg3IDMuNTk2LTE5Ljg1NC02LjE1OC0xNS4zNTIiIGZpbGw9IiNmZmYiIG1hc2s9InVybCgjYikiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjggMTEuNzg1KSI+PG1hc2sgaWQ9ImQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2MiLz48L21hc2s+PHBhdGggZD0iTTI1LjMwNSAyMi43NzNjNC44MjYtNi4wNTUgMy43NDMtMTQuODE0LTIuNDE2LTE5LjU1N0MxNi43My0xLjUyNiA3LjgzNC0uNDYyIDMuMDE0IDUuNTk2LTEuODEgMTEuNjUyLS43MjYgMjAuNDA3IDUuNDMgMjUuMTUzYzYuMTU3IDQuNzQ2IDE1LjA1NyAzLjY3OCAxOS44NzUtMi4zOCIgZmlsbD0iI2ZmZiIgbWFzaz0idXJsKCNkKSIvPjwvZz48cGF0aCBkPSJtNzUuOTQxIDExNS4wNTktMTguMzcxLTguODM2YS45OTEuOTkxIDAgMCAwLTEuMTkyLjI2M2wtMi40NzMgMi45MmMtLjUwNS41OTYtLjIzNiAxLjU0My40OTggMS43NWwyMC44NDUgNS45MTdjMS4yMTIuMzQ0IDEuODM2LTEuNDY0LjY5My0yLjAxNE03My44MTEgMTIwLjM5NGwtMjYuNDI1LTQuMTgxYy0uNDc3LS4wNzYtLjk0MS4xOTgtMS4xMy42NjZsLTEuNjg0IDQuMTgyYy0uMjk2LjczNS4yMTUgMS41NS45NzIgMS41NWgyOC4xMWMxLjMwOSAwIDEuNDUxLTIuMDEyLjE1Ny0yLjIxNyIgZmlsbD0iI2ZmZiIvPjwvZz48L3N2Zz4=",K=a.p+"static/entry_exit.3ab82084.png",V=a.p+"static/overtime.7863fece.png",X="data:image/png;base64,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",e=a(85893),O=function(n){var t=n.device;return(0,e.jsx)(D.Z,{bordered:!1,title:t.name,className:"device-card",extra:t.name==="Bed02"?(0,e.jsx)(Z.Z,{status:"success",text:"ONLINE"}):(0,e.jsx)(Z.Z,{status:"error",text:"OFFLINE"}),children:(0,e.jsxs)(g.Z,{children:[(0,e.jsxs)(i.Z,{span:12,className:"".concat(t.fall?"offline blink":""," bordered"),children:[(0,e.jsx)(M.Z.Title,{level:4,style:{marginTop:"8px"},children:"Fall Detection"}),(0,e.jsxs)(g.Z,{wrap:!1,children:[(0,e.jsx)(i.Z,{children:(0,e.jsx)("img",{src:F,width:70,alt:"fall"})}),t.fall&&(0,e.jsx)(i.Z,{className:"time",children:t.fallTime})]})]}),(0,e.jsxs)(i.Z,{span:12,className:"bordered",children:[(0,e.jsx)(M.Z.Title,{level:4,style:{textAlign:"center",marginTop:"8px"},children:"Entry/Exit"}),(0,e.jsx)(g.Z,{wrap:!1,children:(0,e.jsx)(i.Z,{children:(0,e.jsx)("img",{src:K,width:70,alt:"entry"})})})]}),t.name.includes("Bed")&&(0,e.jsxs)(i.Z,{span:12,className:"bordered",children:[(0,e.jsx)(M.Z.Title,{level:4,style:{textAlign:"center",marginTop:"8px"},children:"Breathing"}),(0,e.jsx)(g.Z,{wrap:!1,children:(0,e.jsx)(i.Z,{children:(0,e.jsx)("img",{src:X,width:70,alt:"breathing"})})})]}),t.name.includes("Bath")&&(0,e.jsxs)(i.Z,{span:12,className:"".concat(t.timeout?"offline":""," bordered"),children:[(0,e.jsx)(M.Z.Title,{level:4,style:{textAlign:"center",marginTop:"8px"},children:"Overtime"}),(0,e.jsxs)(g.Z,{wrap:!1,children:[(0,e.jsx)(i.Z,{children:(0,e.jsx)("img",{src:V,width:70,alt:"fall"})}),t.timeout&&(0,e.jsx)(i.Z,{children:t.timeoutTime})]})]})]})})};O.propTypes={device:z().object,getTasks:z().func};var q=O,$=a(5574),x=a.n($),u=a(66516),p=a(11889),_=a(13013),ee=a(97910),te=a(33160),ae=a(39398),I=0,ne=function(n){var t=n.refresh,r=(0,j.useState)(0),l=x()(r,2),s=l[0],m=l[1],L=(0,j.useState)(5),v=x()(L,2),c=v[0],y=v[1],f=(0,j.useState)(!1),G=x()(f,2),ce=G[0],Q=G[1],o,ge=function(d){var T=Number.parseInt(d.key);clearInterval(I),y(T),T>0&&N(T)},de=function(d){o=o-1,m((d-o)/d*100),o<=0&&(t&&t(),o=d)},ue=function(){t&&(Q(!0),t().finally(function(){return setTimeout(function(){return Q(!1)},1e4)})),clearInterval(I),c>0&&N(c)},N=function(d){o=d,I=setInterval(function(){return de(d)},1e3)};(0,j.useEffect)(function(){return c>0&&N(c),function(){return clearInterval(I)}},[]);var oe=(0,e.jsxs)(u.Z,{onClick:ge,children:[(0,e.jsx)(u.Z.Item,{children:"Off"},"0"),(0,e.jsx)(u.Z.Item,{children:"5 secs"},"5"),(0,e.jsx)(u.Z.Item,{children:"10 secs"},"10"),(0,e.jsx)(u.Z.Item,{children:"30 secs"},"30"),(0,e.jsx)(u.Z.Item,{children:"60 secs"},"60")]});return(0,e.jsxs)("div",{className:"autoRefreshComponent",children:[(0,e.jsxs)(g.Z,{children:[(0,e.jsx)(p.Z,{disabled:ce,icon:(0,e.jsx)(te.Z,{}),style:{borderRadius:0},onClick:ue}),(0,e.jsx)(_.Z,{overlay:oe,children:(0,e.jsx)(p.Z,{icon:(0,e.jsx)(ae.Z,{}),style:{borderRadius:0}})})]}),(0,e.jsx)(g.Z,{children:c>0&&(0,e.jsx)(ee.Z,{percent:s,status:"active",showInfo:!1})})]})},re=ne,se=a(49135),le=function(n,t){return t.map(function(r){var l;return(l=n.filter(function(s){return s.sponsorId===r.id}))===null||l===void 0||l.map(function(s){return s.eventName.includes("Timeout")?(r.timeout=!0,r.timeoutTime=s.startsAt):s.eventName.includes("Fall")?(r.fall=!0,r.fallTime=s.startsAt,r.fallId=s.id):s.eventName.includes("Offline")?(r.offline=!0,r.offlineTime=s.startsAt):s.eventName.includes("Abnormal")&&(r.abnormal=!0),!0}),r}).sort(function(r,l){return r.id-l.id}).concat(Y()(Array(12)).map(function(r,l){return{id:l+563,name:l%2===0?"Bath".concat((l+5).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})):"Bed".concat((l+5).toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}))}}))},ie=function(){var n=(0,R.useModel)("dashboard"),t=n.events,r=n.objects,l=n.getTasks,s=n.newEvents,m=le(t,r);console.log(t,s,r,m),console.log(),s==null||s.reverse().map(function(c){return B.Z.warning({message:"".concat(c.name," ").concat(c.eventName),description:(0,e.jsx)(U.Z,{direction:"vertical",children:c.startsAt}),duration:0})});var L=(0,e.jsxs)(g.Z,{align:"middle",children:[(0,e.jsx)(i.Z,{children:(0,e.jsx)("img",{src:se.Z,alt:"logo"})}),(0,e.jsx)(i.Z,{children:(0,e.jsx)(M.Z.Title,{level:1,children:"Radar Monitor"})})]}),v=function(y){return(0,e.jsx)(g.Z,{gutter:[20,20],children:y.map(function(f){return(0,e.jsx)(i.Z,{xs:{span:24},lg:{span:12},xl:{span:8},xxl:{span:6},children:(0,e.jsx)(q,{device:f,getTasks:l})},f.id)})})};return(0,e.jsx)(P._z,{ghost:!0,children:(0,e.jsx)(D.Z,{title:L,extra:(0,e.jsx)(re,{refresh:l}),bodyStyle:{padding:0},children:v(m)})})},Ae=ie}}]);
